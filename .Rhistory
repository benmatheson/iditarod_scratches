plot1982
plot1999 <- ggplot(pfd1999_df)+
geom_line(aes(x=years, y=pfd1999))+
geom_line(aes(x=years, y=cum))+
geom_bar(aes(x=years, y=pfd1999amounts), stat="identity")+
theme_light()
plot1999
plot1999 <- ggplot(pfd1999_df)+
geom_line(aes(x=years, y=pfd1999))+
geom_line(aes(x=years, y=cum))+
geom_bar(aes(x=years, y=pfd1999amounts), stat="identity")+
theme_light()
plot1999
plot1982 <- ggplot(pfd1982_df)+
geom_line(aes(x=years, y=pfd1982))+
geom_line(aes(x=years, y=cum))+
geom_bar(aes(x=years, y=pfd1982amounts), stat="identity")+
theme_light()
plot1982
plot1999 <- ggplot(pfd1999_df)+
geom_line(aes(x=years, y=pfd1999))+
geom_line(aes(x=years, y=cum))+
geom_bar(aes(x=years, y=pfd1999amounts), stat="identity")+
theme_light()
plot1999
pfd1999amounts
pfd1999
pfd1999_df
plot1999 <- ggplot(pfd1999_df)+
geom_line(aes(x=pfd1999Years, y=pfd1999))+
geom_line(aes(x=pfd1999Years, y=cum))+
geom_bar(aes(x=pfd1999Years, y=pfd1999amounts), stat="identity")+
theme_light()
pfd1999amounts
pfd1999
pfd
plot1999
plot1982 <- ggplot(pfd1982_df)+
geom_line(aes(x=years, y=pfd1982))+
geom_line(aes(x=years, y=cum))+
geom_bar(aes(x=years, y=pfd1982amounts), stat="identity")+
theme_light()
plot1982
plot1982 <- ggplot(pfd1982_df)+
geom_line(aes(x=pfd1982Years, y=pfd1982))+
geom_line(aes(x=pfd1982Yearss, y=cum))+
geom_bar(aes(x=pfd1982Years, y=pfd1982amounts), stat="identity")+
theme_light()
plot1982
plot1982 <- ggplot(pfd1982_df)+
geom_line(aes(x=pfd1982Years, y=pfd1982))+
geom_line(aes(x=pfd1982Years, y=cum))+
geom_bar(aes(x=pfd1982Years, y=pfd1982amounts), stat="identity")+
theme_light()
plot1982
tweet_text <- paste0("View of Minnesota from MODIS satellite, downloaded at ",Sys.time(),". More: https://go.nasa.gov/2iYvzwK")
tweet_URL <- fileExpName
tweet_gif <- paste0(yr,currentJD,"mn","ani.gif")
tweet_text <- paste0("View of Minnesota from MODIS satellite, downloaded at ",Sys.time(),". More: https://go.nasa.gov/2iYvzwK")
tweet_URL <- fileExpName
tweet_gif <- paste0(yr,currentJD,"mn","ani.gif")
textGif <- paste0("The last five images from MODIS satellite, as of ",Sys.time(),". Image data: https://go.nasa.gov/2iYvzwK")
tweet(tweet_text, mediaPath=tweet_URL)
first <- 7,993	+4,004 +6,305	+8,059	+9,401	+	6,971		4,991
first <- 7993	+4004 +6305	+8059	+9401	+	6971+	4991
second <- first + 5430
zero <-  7993	+4004 +6305	+8059
below150 <- 10400+13252+10229+10260
library(swirl)
swirl()
install_course("Statistical Inference")
install_course("Getting and Cleaning Data")
devtools::install_github("abresler/realtR")
LS
library(devtools)
devtools::install_github("abresler/realtR")
?Sys.timezone
Sys.timezone(location=F)
Sys.timezone()
devtools::install_github("abresler/realtR")
Sys.timezone()
Sys.timezone(location = T)
Sys.timezone()
library(realtR)
library(devtools)
devtools::install_github("abresler/realtR")
require(devtools)
devtools::install_github("abresler/realtR")
devtools::install_github("hadley/emo")
devtools::install_github("abresler/realtR")
df_rates <- realtR::mortgage_rates(return_wide = F)
View(df_)
View(df_rates)
dictionary_property_types()
library(realtR)
dictionary_property_types()
?listings()
locations <- ("Minneapolis, MN")
locations <- c("Minneapolis, MN")
?listings(locations=locations)
list <- listings(locations=locations)
locations <- c("Anchorage, AK")
list <- listings(locations=locations)
View(list)
locations <- c("Saint Paul, MN")
list <- listings(locations=locations, property_type ="multi-family-home" )
View(list)
colnames(list)
mplsZip <- c("55401",
"55402",
"55403",
"55404",
"55405",
"55406",
"55407",
"55408",
"55409",
"55410",
"55411",
"55412",
"55413",
"55414",
"55415",
"55416",
"55417",
"55418",
"55419",
"55421",
"55423",
"55430",
"55450",
"55454",
"55455")
df_trends <-
trends(locations mplsZip,
return_message = F)
df_trends <-
trends(locations =mplsZip,
return_message = F)
View(df_trends)
mpls <- df_trends
library(tidyverse)
mpls %>% filter(monthData = 8 && yearData = 2018)
mpls %>% filter(monthData == 8 && yearData == 2018)
View(mpls)
mpls8 %>% filter(monthData == 8 && yearData == 2018)
mpls8 <- mpls %>% filter(monthData == 8 && yearData == 2018)
View(mpls8)
mpls <- df_trends
mpls8 <- mpls %>% filter(monthData == 8 && yearData == 2018)
View(mpls8)
mpls8 <- mpls %>% filter(monthData == 8 & yearData == 2018)
View(mpls8)
ggplot(mpls8)+
geom_histogram(aes(x=countDaysMarketMedian, y=priceClosingeMedian ), color="white", binwidth = 1)+
theme_minimal()+
ggsave("mpls.png", width=5, height=2.5, dpi=300)
ggplot(mpls8)+
geom_histogram(aes(x=countDaysMarketMedian, y=priceClosingMedian), color="white", binwidth = 1)+
theme_minimal()+
ggsave("mpls.png", width=5, height=2.5, dpi=300)
ggplot(mpls8)+
geom_scatter(aes(x=countDaysMarketMedian, y=priceClosingMedian), color="white", binwidth = 1)+
theme_minimal()+
ggsave("mpls.png", width=5, height=2.5, dpi=300)
ggplot(mpls8)+
geom_point(aes(x=countDaysMarketMedian, y=priceClosingMedian), color="white", binwidth = 1)+
theme_minimal()+
ggsave("mpls.png", width=5, height=2.5, dpi=300)
ggplot(mpls8)+
geom_point(aes(x=countDaysMarketMedian, y=priceClosingMedian), color="red", binwidth = 1)+
theme_minimal()+
ggsave("mpls.png", width=5, height=2.5, dpi=300)
ggplot(mpls8)+
geom_point(aes(x=priceListingMedian, y=priceClosingMedian), color="red", binwidth = 1)+
theme_minimal()+
ggsave("mpls.png", width=5, height=2.5, dpi=300)
install.packages('gganimate')
library(gganimate)
?gganimate
mpls17 <- mpls %>% filter(2017)
mpls17 <- mpls %>% filter(yearData == 2017)
p <- ggplot(mpls17)+
geom_point(aes(x=priceListingMedian, y=priceClosingMedian, frame=monthData), color="gray", binwidth = 1)+
theme_minimal()
gganimate(p)
gganimate(p)+  ggsave("mpls17.png", width=5, height=2.5, dpi=300)
gganimate(p)+ ggsave("mpls17.gif", width=5, height=2.5, dpi=300)
devtools::install_github('thomasp85/gganimate')
p <- ggplot(mpls17)+
geom_point(aes(x=priceListingMedian, y=priceClosingMedian, frame=monthData), color="gray", binwidth = 1)+
theme_minimal()+
transition_time(dataMonth) +
ease_aes('linear')
library(tidyverse)
p <- ggplot(mpls17)+
geom_point(aes(x=priceListingMedian, y=priceClosingMedian, frame=monthData), color="gray", binwidth = 1)+
theme_minimal()+
transition_time(dataMonth) +
ease_aes('linear')
library(gganimate)
p <- ggplot(mpls17)+
geom_point(aes(x=priceListingMedian, y=priceClosingMedian, frame=monthData), color="gray", binwidth = 1)+
theme_minimal()+
transition_time(dataMonth) +
ease_aes('linear')
library(gganimate)
detatch_package(tidyverse)
unloadNamespace("tidyverse")
library(ggplot2)
p <- ggplot(mpls17)+
geom_point(aes(x=priceListingMedian, y=priceClosingMedian, frame=monthData), color="gray", binwidth = 1)+
theme_minimal()+
transition_time(dataMonth) +
ease_aes('linear')
p <- ggplot(mpls17)+
geom_point(aes(x=priceListingMedian, y=priceClosingMedian, frame=monthData), color="gray", binwidth = 1)+
theme_minimal()+
transition_time(dataMonth) +
ease_aes('linear')
p <- ggplot2(mpls17)+
geom_point(aes(x=priceListingMedian, y=priceClosingMedian, frame=monthData), color="gray", binwidth = 1)+
theme_minimal()+
transition_time(dataMonth) +
ease_aes('linear')
library(ggplot2)
library(tidyverse)
library(datasets)
library(tidyverse)
names(mtcars)
mtTrain <- mtcars[1:.8*nrow(mtcars),]
nrow(mtcars)
mtTrain <- mtcars[1:(.8*nrow(mtcars)),]
mtTest <- mtcars[26:nrow(mtcars), ]
model3 <- lm(wt ~mpb, data = mtTrain)
model3 <- lm(wt ~mpg, data = mtTrain)
eval3 <- predict(model3, mtTest)
View(eval3)
View(mtcars)
summary(eval3)
summary(model3)
model3 <- lm(mpg ~., data = mtTrain)
eval3 <- predict(model3, mtTest)
View(eval3)
summary(model3)
library(datasets)
library(tidyverse)
ggplot(mtcars)+
geom_point(aes(x=hp, y=mpg))
nrow(mtcars)
mtTrain <- mtcars[1:(.8*nrow(mtcars)),]
mtTest <- mtcars[26:nrow(mtcars), ]
model1 <- lm(mpg ~ ., data=mtcars)
model2 <- lm(mpg ~ hp, data=mtcars)
model3 <- lm(mpg ~., data = mtTrain)
summary(model3)
eval <- predict(model2, mtcars)
eval1 <- predict(model1, mtcars)
eval3 <- predict(model3, mtTest)
View(eval3)
demo()
is.things
demo(is.things)
swirl()
library(swirl)
swirl()
cran %>% select(siz:ip_id)
cran %>% select(size:ip_id)
cran2 <- cran %>% select(size:ip_id)
cran2 <-  select(cran, size:ip_id)
cran2
library(tidyverse)
setwd("projects/mplsAnc/data")
library(tidyverse)
library(rvest)
library(lubridate)
setwd("projects/divest/data")
getwd()
url <- "https://www.nbim.no/en/the-fund/responsible-investment/exclusion-of-companies/"
divestPage <- read_html(url, handle = curl::new_handle("useragent" = "Mozilla/5.0"))
divestData <- divestPage %>% html_nodes('table') %>% html_table(fill=T)
View(divestData)
View(divestPage)
divestPageSelect <- divestPage[[1]]
divestPageSelect <- divestPage[[2]]
divestPageSelect <- divestPage[[1]][1]
divestPageSelect <- divestPage[[1]][1]
divestPageSelect <- divestPage[[2]][1]
divestPageSelect <- divestPage[1]
divestPageSelect <- divestPage[1][1]
divestPageSelect <- divestPage[1][[1]
divestPageSelect <- divestPage[1][[1]]
divestPageSelect <- divestPage[[1]]
divestData <- divestPage %>% html_nodes('table') %>% html_table(fill=T)
View(divestData)
divestData <- divestPage %>% html_nodes('table') %>% html_table(fill=T)[[1]]
dd2 <- divestData[[1]]
divestData <- divestPage %>% html_nodes('table') %>% html_table(fill=T)
divestData <- divestData[[1]]
View(divestData)
names(divestData <- c("company", "note","category", "critereon", "decision", "date")
names(divestData) <- c("company", "note","category", "critereon", "decision", "date")
View(divestData)
names(divestData) <- c("company", "note","category", "critereon", "decision", "date")
View(divestData)
write_csv(divestData, "divestData.csv")
library(tidyverse)
pf1 <-  read_csv("tabula-20190331StockHoldingsbyCountry.csv")
pf <-  read_csv("tabula-20190331StockHoldingsbyCountry (1).csv")
getwd()
setwd("projects/divest/data")
getwd()
pf1 <-  read_csv("tabula-20190331StockHoldingsbyCountry.csv")
pf <-  read_csv("tabula-20190331StockHoldingsbyCountry (1).csv")
source('~/projects/marineAreas/process.R', echo=TRUE)
install.packages("sf")
install.packages("sf")
source('~/projects/marineAreas/process.R', echo=TRUE)
library(tidyverse)
library(vtable)
library(janitor)
library(stringr)
library(sf)
?dyplyr
??dyplr
??dplyr
?dplyr
sessionInfo()
install.packages("dplyr")
install.packages("dplyr")
library(dplyr)
library(sf)
# maRaw <- read_csv("data/20191010_Biodiversity Monitoring Survey.csv")
# maRaw <- read_csv("data/20191021 Biodiversity Monitoring Survey.csv")
maRaw <- read_csv("data/20191114 Biodiversity Monitoring Survey.csv")
library(tidyverse)
library(vtable)
library(lubridate)
# library(Hmisc)
library(janitor)
library(directlabels)
library(extrafont)
library(gganimate)
library(devtools)
library(transformr)
library(scales)
# font_import()
setwd("projects/scratches")
getwd()
scratches_raw <- read_csv("data/scratches - Sheet1.csv")
field_size <- read_csv("data/scratches - field_size.csv")
checkpoints_southern <- read_csv("data/scratches - checkpoints_southern.csv")
checkpoints_northern <- read_csv("data/scratches - checkpoints_northern.csv")
checkpoints_fairbanks <- read_csv("data/scratches - checkpoints_fairbanks.csv")
scratches <- scratches_raw %>% filter (status == 'Scratched') %>% select (-bib, -dogs)
not_scratches <- scratches_raw %>% filter (status != 'Scratched')
scratches <- scratches %>% arrange(year, time)
scratches <- scratches %>% left_join(field_size, by="year")
scratches_southern <- scratches %>% filter (route == "southern")
scratches_northern <- scratches %>% filter (route == "northern")
scratches_fairbanks <- scratches %>% filter (route == "fairbanks")
scratches_southern <- scratches_southern %>% left_join(checkpoints_southern, by="checkpoint")
scratches_northern <- scratches_northern %>% left_join(checkpoints_northern, by="checkpoint")
scratches_fairbanks <- scratches_fairbanks %>% left_join(checkpoints_fairbanks, by="checkpoint")
scratches_joined <- rbind(scratches_southern, scratches_northern, scratches_fairbanks)
scratches_joined <- scratches_joined %>% group_by(year) %>%  arrange(order, time, .by_group = TRUE)
scratches_joined <- scratches_joined %>% mutate (c_scratches = row_number())
scratches_joined <- scratches_joined %>% mutate (c_scratches_percent = c_scratches/total_mushers)
scratches_joined <- scratches_joined %>% mutate (year2= year) %>% mutate(cumulative2 = cumulative)
scratches_joined_remove <- scratches_joined %>% ungroup() %>%  select (-year, -cumulative)
View(scratches_joined_remove)
#all at once
all_animated <- ggplot(scratches_joined %>% filter (!is.na(cumulative)))+
geom_line(aes(x=cumulative, y=c_scratches, group=year, color=factor(year) ),size=1.2, show.legend=F)+
theme_minimal()+
# geom_text(aes(x=cumulative, y=c_scratches,label=year))+
theme(text = element_text(family = "Fira Code", size = 30),
plot.title = element_text(family="IBM Plex Sans Medium",size=42, color="#333333"))+
geom_dl(aes(x=cumulative, y=c_scratches,label=year, color=factor(year), fontfamily = "Fira Code"),method=list("last.points", cex=2))+
xlab('Miles into Race')+
ylab("Total Scratches")+
ggtitle("Cumulative Iditarod Musher Scratches")+
# scale_color_brewer(palette="Set2")+
# ggsave("plots/scratches_all.png", width=10, height=5, dpi=300, units="in")
transition_reveal(cumulative, id=year)
all_anim <- animate (all_animated, nframes = 100, fps = 15, renderer=ffmpeg_renderer(), width=1500, height=750)
all_anim_gif <- animate (all_animated, nframes = 100, fps = 15, width=1500, height=750)
anim_save("plots/all_animation.mp4", animation = all_anim )
anim_save("plots/all_animation.gif", animation = all_anim_gif )
all_facet <- ggplot(scratches_joined %>% filter (!is.na(cumulative)))+
geom_line(aes(x=cumulative, y=c_scratches_percent, group=year,  color=factor(year) ), show.legend = F, size=1.1)+
theme_minimal()+
facet_wrap(.~year)+
geom_line(data =scratches_joined_remove %>% filter (!is.na(cumulative2)) ,aes(x=cumulative2, y=c_scratches_percent, group=year2), show.legend = F, size=.8, color="#333333", alpha=.07)+
xlab("Miles into Race")+
ylab("Percent of Mushers Who Scratched by Race Mile")+
theme(text = element_text(family = "Fira Code", size = 25),
plot.title = element_text(family="IBM Plex Sans Medium",size=42, color="#333333"))+  ggtitle("Percent of Iditarod Mushers Who Scratched ")+
scale_y_continuous(labels=percent_format(accuracy = 1))+
transition_reveal(cumulative, id=year)
all_facet_percent_anim <- animate (all_facet, nframes = 2, fps = 25, width=1500, height=750, renderer=ffmpeg_renderer())
all_facet_percent_anim
all_facet_percent_anim
all_facet <- ggplot(scratches_joined %>% filter (!is.na(cumulative)))+
geom_line(aes(x=cumulative, y=c_scratches_percent, group=year,  color=factor(year) ), show.legend = F, size=1.4)+
theme_minimal()+
facet_wrap(.~year)+
geom_line(data =scratches_joined_remove %>% filter (!is.na(cumulative2)) ,aes(x=cumulative2, y=c_scratches_percent, group=year2), show.legend = F, size=.8, color="#333333", alpha=.07)+
xlab("Miles into Race")+
ylab("Percent of Mushers Who Scratched by Race Mile")+
theme(text = element_text(family = "Fira Code", size = 25),
plot.title = element_text(family="IBM Plex Sans Medium",size=42, color="#333333"))+  ggtitle("Percent of Iditarod Mushers Who Scratched ")+
scale_y_continuous(labels=percent_format(accuracy = 1))+
transition_reveal(cumulative, id=year)
all_facet_percent_anim <- animate (all_facet, nframes = 2, fps = 25, width=1500, height=750, renderer=ffmpeg_renderer())
all_facet_percent_anim
all_facet <- ggplot(scratches_joined %>% filter (!is.na(cumulative)))+
geom_line(aes(x=cumulative, y=c_scratches_percent, group=year,  color=factor(year) ), show.legend = F, size=1.6)+
theme_minimal()+
facet_wrap(.~year)+
geom_line(data =scratches_joined_remove %>% filter (!is.na(cumulative2)) ,aes(x=cumulative2, y=c_scratches_percent, group=year2), show.legend = F, size=.8, color="#333333", alpha=.07)+
xlab("Miles into Race")+
ylab("Percent of Mushers Who Scratched by Race Mile")+
theme(text = element_text(family = "Fira Code", size = 25),
plot.title = element_text(family="IBM Plex Sans Medium",size=42, color="#333333"))+  ggtitle("Percent of Iditarod Mushers Who Scratched ")+
scale_y_continuous(labels=percent_format(accuracy = 1))+
transition_reveal(cumulative, id=year)
all_facet_percent_anim <- animate (all_facet, nframes = 2, fps = 25, width=1500, height=750, renderer=ffmpeg_renderer())
all_facet_percent_anim
all_facet <- ggplot(scratches_joined %>% filter (!is.na(cumulative)))+
geom_line(aes(x=cumulative, y=c_scratches_percent, group=year,  color=factor(year) ), show.legend = F, size=1.9)+
theme_minimal()+
facet_wrap(.~year)+
geom_line(data =scratches_joined_remove %>% filter (!is.na(cumulative2)) ,aes(x=cumulative2, y=c_scratches_percent, group=year2), show.legend = F, size=.8, color="#333333", alpha=.07)+
xlab("Miles into Race")+
ylab("Percent of Mushers Who Scratched by Race Mile")+
theme(text = element_text(family = "Fira Code", size = 25),
plot.title = element_text(family="IBM Plex Sans Medium",size=42, color="#333333"))+  ggtitle("Percent of Iditarod Mushers Who Scratched ")+
scale_y_continuous(labels=percent_format(accuracy = 1))+
transition_reveal(cumulative, id=year)
all_facet_percent_anim <- animate (all_facet, nframes = 2, fps = 25, width=1500, height=750, renderer=ffmpeg_renderer())
all_facet_percent_anim
all_facet_percent_anim <- animate (all_facet, nframes = 100, fps = 25, width=1500, height=750, renderer=ffmpeg_renderer())
all_facet_percent_anim_gif <- animate (all_facet, nframes = 100, fps = 25, width=1500, height=750)
anim_save("plots/all_facet_percent_animation.gif", animation = all_facet_percent_anim_gif )
ggplot(scratches_joined_summary)+
geom_col(aes(y=percent_scratch_withdrawn, x=reorder(year, -percent_scratch_withdrawn), position="stack"), fill="#009BE4")+
geom_col(data=scratches_joined_summary %>% filter(year==2020), aes(y=percent_scratch_withdrawn, x=reorder(year, -percent_scratch_withdrawn), position="stack"), fill="salmon")+
theme_minimal()+
# coord_flip()+
ylab("Percent Scratched or Withdrawn")+
xlab("Year")+
scale_y_continuous(labels=percent_format(accuracy = 1))+
theme(text = element_text(family = "Fira Code", size = 12),
plot.title = element_text(family="IBM Plex Sans Medium",size=22, color="#333333"))+
ggtitle("Iditarod Scratches by Percent of Field")+
ggsave("plots/bar_scratches_basic.png", width=10, height=5, dpi=300, units="in")
scratches_joined_summary <- scratches_joined %>% group_by(year) %>% summarize(total_scratch_widthdrawn =first(number_scratched_withdrawn), total_mushers = first(total_mushers), percent_scratch_withdrawn = total_scratch_widthdrawn/total_mushers)
scratches_joined_summary_chk <- scratches_joined %>% group_by(checkpoint, route) %>% summarize(total =n())
scratches_joined_summary_chk_overall <- scratches_joined %>% group_by(checkpoint) %>% summarize(total_overall =n())
scratches_joined_summary_chk <- scratches_joined_summary_chk %>% left_join(scratches_joined_summary_chk_overall)
ggplot(scratches_joined_summary)+
geom_col(aes(y=percent_scratch_withdrawn, x=reorder(year, -percent_scratch_withdrawn), position="stack"), fill="#009BE4")+
geom_col(data=scratches_joined_summary %>% filter(year==2020), aes(y=percent_scratch_withdrawn, x=reorder(year, -percent_scratch_withdrawn), position="stack"), fill="salmon")+
theme_minimal()+
# coord_flip()+
ylab("Percent Scratched or Withdrawn")+
xlab("Year")+
scale_y_continuous(labels=percent_format(accuracy = 1))+
theme(text = element_text(family = "Fira Code", size = 12),
plot.title = element_text(family="IBM Plex Sans Medium",size=22, color="#333333"))+
ggtitle("Iditarod Scratches by Percent of Field")+
ggsave("plots/bar_scratches_basic.png", width=10, height=5, dpi=300, units="in")
ggplot(scratches_joined_summary_chk)+
geom_col(aes(y=total, x=reorder(checkpoint, total_overall), fill=route), position="stack",show.legend=T)+
geom_col(data=scratches_joined_summary %>% filter(year==2020), aes(y=percent_scratch_withdrawn, x=reorder(year, -percent_scratch_withdrawn), position="stack"), fill="salmon")+
theme_minimal()+
coord_flip()+
ylab("")+
xlab("Scratches")+
theme(text = element_text(family = "Fira Code", size = 12),
plot.title = element_text(family="IBM Plex Sans Medium",size=22, color="#333333"))+
ggtitle("Iditarod Scratches by Checkpoint and Route", subtitle="2006-2020")+
ggsave("plots/bar_scratches_all.png", width=10, height=5, dpi=300, units="in")
ggplot(scratches_joined_summary_chk)+
geom_col(aes(y=total, x=reorder(checkpoint, total_overall), fill=route), position="stack",show.legend=T)+
theme_minimal()+
coord_flip()+
ylab("")+
xlab("Scratches")+
theme(text = element_text(family = "Fira Code", size = 12),
plot.title = element_text(family="IBM Plex Sans Medium",size=22, color="#333333"))+
ggtitle("Iditarod Scratches by Checkpoint and Route", subtitle="2006-2020")+
ggsave("plots/bar_scratches_all.png", width=10, height=5, dpi=300, units="in")
ggplot(scratches_joined_summary)+
geom_col(aes(y=percent_scratch_withdrawn, x=reorder(year, year)),fill="#009BE4")+
geom_col(data=scratches_joined_summary %>% filter(year==2020), aes(y=percent_scratch_withdrawn, x=reorder(year, -percent_scratch_withdrawn), position="stack"), fill="salmon")+
theme_minimal()+
# coord_flip()+
ylab("Percent Scratched or Withdrawn")+
xlab("Year")+
scale_y_continuous(labels=percent_format(accuracy = 1))+
theme(text = element_text(family = "Fira Code", size = 12),
plot.title = element_text(family="IBM Plex Sans Medium",size=22, color="#333333"))+
ggtitle("Iditarod Scratches by Percent of Field")+
ggsave("plots/bar_scratches_basic_not_ordered.png", width=10, height=5, dpi=300, units="in")
View(scratches)
22/57
View(scratches_joined)
View(scratches_joined_summary)
View(scratches)
View(scratches)
